{
  "chain": [
    {
      "algorithm_id": "threshold",
      "display_name": "阈值分割",
      "category": "分割",
      "description": "对图像进行阈值分割处理",
      "version": "1.0.0",
      "author": "System",
      "parameters": [
        {
          "name": "threshold_value",
          "type": "integer",
          "value": 127,
          "description": "阈值",
          "min_value": 0,
          "max_value": 255,
          "required": true
        },
        {
          "name": "max_value",
          "type": "integer",
          "value": 255,
          "description": "最大值",
          "min_value": 0,
          "max_value": 255,
          "required": true
        },
        {
          "name": "threshold_type",
          "type": "choice",
          "value": "THRESH_BINARY",
          "description": "阈值类型",
          "choices": [
            "THRESH_BINARY",
            "THRESH_BINARY_INV",
            "THRESH_TRUNC",
            "THRESH_TOZERO",
            "THRESH_TOZERO_INV"
          ],
          "required": true
        },
        {
          "name": "adaptive",
          "type": "boolean",
          "value": false,
          "description": "是否使用自适应阈值",
          "required": true
        },
        {
          "name": "adaptive_method",
          "type": "choice",
          "value": "ADAPTIVE_THRESH_GAUSSIAN_C",
          "description": "自适应方法",
          "choices": [
            "ADAPTIVE_THRESH_MEAN_C",
            "ADAPTIVE_THRESH_GAUSSIAN_C"
          ],
          "required": true
        },
        {
          "name": "block_size",
          "type": "integer",
          "value": 11,
          "description": "自适应阈值块大小",
          "min_value": 3,
          "max_value": 99,
          "step": 2,
          "required": true
        },
        {
          "name": "c_constant",
          "type": "float",
          "value": 2.0,
          "description": "自适应阈值常数",
          "min_value": -10.0,
          "max_value": 10.0,
          "step": 0.1,
          "required": true
        }
      ],
      "layout": {
        "position": {
          "x": 321.0,
          "y": 259.0
        },
        "node_id": "algorithm_2"
      }
    },
    {
      "algorithm_id": "roi_extract",
      "display_name": "ROI区域提取",
      "category": "预处理",
      "description": "从图像中提取指定的感兴趣区域",
      "version": "1.0.0",
      "author": "System",
      "parameters": [
        {
          "name": "roi_region",
          "type": "roi",
          "value": {
            "x": 865,
            "y": 813,
            "width": 1589,
            "height": 521
          },
          "description": "感兴趣区域",
          "roi_mode": "manual",
          "required": true
        }
      ],
      "layout": {
        "position": {
          "x": 597.0,
          "y": 278.0
        },
        "node_id": "algorithm_3"
      }
    },
    {
      "algorithm_id": "line_detection",
      "display_name": "直线检测",
      "category": "几何检测",
      "description": "使用霍夫直线变换检测图像中的直线",
      "version": "1.0.0",
      "author": "System",
      "parameters": [
        {
          "name": "roi_region",
          "type": "roi",
          "value": {
            "x": 0,
            "y": 0,
            "width": 0,
            "height": 0
          },
          "description": "感兴趣区域 (宽高为0表示全图)",
          "roi_mode": "manual",
          "required": true
        },
        {
          "name": "rho",
          "type": "float",
          "value": 1.0,
          "description": "距离分辨率（像素）",
          "min_value": 0.1,
          "max_value": 10.0,
          "step": 0.1,
          "required": true
        },
        {
          "name": "theta",
          "type": "float",
          "value": 1.0,
          "description": "角度分辨率（度）",
          "min_value": 0.1,
          "max_value": 10.0,
          "step": 0.1,
          "required": true
        },
        {
          "name": "threshold",
          "type": "integer",
          "value": 100,
          "description": "累加器阈值",
          "min_value": 50,
          "max_value": 300,
          "required": true
        },
        {
          "name": "min_line_length",
          "type": "integer",
          "value": 50,
          "description": "最小线段长度",
          "min_value": 10,
          "max_value": 500,
          "required": true
        },
        {
          "name": "max_line_gap",
          "type": "integer",
          "value": 10,
          "description": "最大线段间隙",
          "min_value": 1,
          "max_value": 50,
          "required": true
        }
      ],
      "layout": {
        "position": {
          "x": 875.0,
          "y": 485.0
        },
        "node_id": "algorithm_4"
      }
    }
  ],
  "metadata": {
    "version": "1.0",
    "algorithm_count": 0,
    "canvas_layout": true,
    "created_at": "2025-10-27T15:01:54.575406",
    "combined_algorithm_id": "abc",
    "algorithm_info": {
      "algorithm_id": "abc",
      "display_name": "阈值分割+ROI区域提取等3个算法组合",
      "category": "组合算法",
      "secondary_category": "预处理组合",
      "description": "包含 阈值分割, ROI区域提取, 直线检测 的组合算法",
      "version": "1.0.0",
      "author": "User",
      "tags": [
        "组合",
        "链式",
        "预处理",
        "检测"
      ]
    }
  },
  "connections": [
    {
      "from": "threshold",
      "to": "roi_extract",
      "from_port": "right",
      "to_port": "left"
    },
    {
      "from": "roi_extract",
      "to": "line_detection",
      "from_port": "right",
      "to_port": "left"
    }
  ]
}